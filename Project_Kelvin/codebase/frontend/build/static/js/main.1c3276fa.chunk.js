(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{1027:function(e,t){},1053:function(e,t){},1099:function(e,t){},1126:function(e,t){},1133:function(e,t){},1366:function(e,t,n){"use strict";n.r(t);var a=n(7),s=n.n(a),c=n(80),i=n.n(c),r=(n(681),n(682),n(683),n(0)),o=n.n(r),l=n(6),u=n(124),p=(n.p,n(685),n(686),n(268)),d=(n(1238),n(598),n(5)),h=n(8),m=n(10),j=n(9),b=n(71),f=n.n(b),y=n(3),v=function(e){Object(m.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleClick=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.wallet.requestSignIn("gkolluri.testnet","NEAR Guest Book");case 1:case"end":return e.stop()}}),e)}))),console.log(e),a.contract=e.contract,a.currentUser=e.currentUser,a.nearConfig=e.nearConfig,a.wallet=e.wallet,a.address=e.address,a.connect=e.connect,a.state={},console.log("constructor before trigger"),console.log(a.contract,a.currentUser,a.nearConfig,a.wallet),a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("componentDidMount"),console.log(this.contract,this.currentUser,this.nearConfig,this.wallet),!this.wallet||!this.contract){e.next=5;break}return e.next=5,this.triggerOAuth();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"shouldComponentUpdate",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("shouldComponentUpdate");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log("render start ".concat(JSON.stringify(this.state.threads))),Object(y.jsx)("div",{class:"bg-white",children:Object(y.jsx)("div",{className:"base-container flow-container",ref:this.props.containerRef,children:Object(y.jsxs)("section",{class:"container-fluid",children:[Object(y.jsx)("div",{class:"row",children:Object(y.jsx)("div",{class:"col splash-logo bg-color",children:Object(y.jsx)("img",{src:"https://cdn.kulfyapp.com/celo/full-logo.svg",alt:""})})}),Object(y.jsx)("div",{class:"d-grid gap-2 mt-4",children:Object(y.jsxs)("button",{onClick:this.connect,variant:"contained",class:"btn btn-primary btn-icon",type:"button",children:[" ",Object(y.jsx)("img",{src:"https://cdn.kulfyapp.com/celo/celo-circle.svg",alt:""}),Object(y.jsx)("span",{children:" Connect with Celo"})]})})]})})})}}]),n}(s.a.Component),x=v,O=n(107),g=n(15);function w(){return Object(y.jsx)("header",{class:"container bg-color mb-2",children:Object(y.jsx)("nav",{class:"navbar",children:Object(y.jsxs)("div",{class:"container",children:[Object(y.jsx)("a",{class:"navbar-brand",href:"/",children:Object(y.jsx)("img",{src:"https://cdn.kulfyapp.com/celo/logo-icon.svg",alt:""})}),Object(y.jsxs)("div",{children:[Object(y.jsx)("a",{class:"navbar-brand",href:"/create",children:Object(y.jsx)("img",{src:"https://cdn.kulfyapp.com/celo/create.svg",alt:"",width:"30",height:"24"})}),Object(y.jsx)("a",{class:"navbar-brand",href:"#",children:Object(y.jsx)("img",{src:"https://cdn.kulfyapp.com/celo/menu.svg",alt:"",width:"30",height:"24"})})]})]})})})}var k=function(e){Object(m.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).handleClick=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.wallet.requestSignIn("gkolluri.testnet","NEAR Guest Book");case 1:case"end":return e.stop()}}),e)}))),console.log(e),a.contract=e.contract,a.currentUser=e.currentUser,a.nearConfig=e.nearConfig,a.wallet=e.wallet,a.address=e.address,a.connect=e.connect,a.state={},a.state={formValues:[{name:"",values:""}]},a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),console.log("constructor before trigger"),console.log(a.contract,a.currentUser,a.nearConfig,a.wallet),a}return Object(h.a)(n,[{key:"handleChange",value:function(e,t){var n=this.state.formValues;n[e][t.target.name]=t.target.value,this.setState({formValues:n})}},{key:"addFormFields",value:function(){this.setState({formValues:[].concat(Object(O.a)(this.state.formValues),[{name:"",values:""}])})}},{key:"removeFormFields",value:function(e){var t=this.state.formValues;t.splice(e,1),this.setState({formValues:t})}},{key:"handleSubmit",value:function(e){localStorage.setItem("impactflow",JSON.stringify(this.state.formValues)),window.location.href="/calculate"}},{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("componentDidMount"),console.log(this.contract,this.currentUser,this.nearConfig,this.wallet),!this.wallet||!this.contract){e.next=5;break}return e.next=5,this.triggerOAuth();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleTimeChange",value:function(e){this.state.time=e}},{key:"handleTemperatureChange",value:function(e){this.state.temperature=e}},{key:"handleCapitalChange",value:function(e){this.state.capital=e}},{key:"shouldComponentUpdate",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("shouldComponentUpdate");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log("render start ".concat(JSON.stringify(this.state.threads))),Object(y.jsxs)("div",{class:"bg-white",children:[Object(y.jsx)(w,{}),Object(y.jsx)("section",{class:"container mb-3",children:Object(y.jsx)("div",{class:"row",children:Object(y.jsx)("div",{class:"col",children:Object(y.jsxs)("nav",{class:"nav nav-pills nav-justified",children:[Object(y.jsx)("a",{class:"nav-link active","aria-current":"page",href:"#",children:"Impact Flow"}),Object(y.jsx)("a",{class:"nav-link",href:"/convo",children:"Impact Discussion"})]})})})}),Object(y.jsxs)("section",{class:"container text-center ",children:[Object(y.jsx)("div",{class:"row mb-3",children:Object(y.jsx)("div",{class:"col",children:Object(y.jsx)("h3",{class:"text-color",children:"Inputs - Step 1"})})}),Object(y.jsx)("form",{onSubmit:this.handleSubmit,children:this.state.formValues.map((function(t,n){return Object(y.jsx)("div",{className:"form-inline",children:Object(y.jsx)("div",{class:"row",children:Object(y.jsxs)("div",{class:"col my-block m-2 px-4 flex-column align-items-start",children:[Object(y.jsxs)("div",{class:"d-flex justify-content-between w-100 mb-2  align-items-center  flex-row",children:[Object(y.jsx)("h6",{children:"Name"}),Object(y.jsx)("p",{children:Object(y.jsx)("input",{name:"name",onChange:function(t){return e.handleChange(n,t)},type:"text",placeholder:"Variable Name"})})]}),Object(y.jsxs)("div",{class:"d-flex justify-content-between w-100 mb-2  align-items-center  flex-row",children:[Object(y.jsx)("h6",{children:"Values"}),Object(y.jsx)("p",{children:Object(y.jsx)("input",{name:"values",onChange:function(t){return e.handleChange(n,t)},type:"text",placeholder:"Comma Seperated"})})]}),Object(y.jsxs)("button",{class:"btn btn-primary w-100 btn-color",onClick:function(){return e.removeFormFields(n)},type:"button",children:[" ","Remove"]})]})})},n)}))}),Object(y.jsxs)("div",{class:"d-grid gap-2 mt-4",children:[Object(y.jsx)("button",{onClick:function(){return e.addFormFields()},type:"button",class:"btn btn-primary btn-color","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add"}),Object(y.jsxs)("button",{class:"btn btn-primary btn-color",onClick:function(){return e.handleSubmit()},type:"submit",children:[" ","Next"]})]})]})]})}}]),n}(s.a.Component),C=k,T=n(1384),S=n(362),V=function(e){Object(m.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).submitMessage=function(){var e=Object(l.a)(o.a.mark((function e(t){var n,s,c,i,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n="https://theconvo.space/api",s="CONVO",f.a.defaults.headers.common={"Content-Type":"application/json"},console.log("sumit message",a.state.thread_id),c="/comments",i={token:a.state.token,signerAddress:a.wallet.getAccountId(),comment:a.state.message,threadId:a.state.thread_id,url:encodeURIComponent("https://projectkelvin.io")},console.log("send request to convo URL: ".concat(n).concat(c,"?apikey=").concat(s," with data: ").concat(JSON.stringify(i))),e.next=10,f.a.post("".concat(n).concat(c,"?apikey=").concat(s),i);case 10:return r=e.sent,console.log("postComments Response from convo: ".concat(JSON.stringify(r))),a.state.message="",e.next=15,a.triggerOAuth();case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.triggerOAuth=Object(l.a)(o.a.mark((function e(){var t,n,s,c,r,l,u,p,d,h,m,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.kit.web3.getDefaultPro,console.log("kit is ",a.kit.web3),n="https://theconvo.space/api",s="CONVO",f.a.defaults.headers.common={"Content-Type":"application/json"},console.log("before signature ",a.kit.web3.currentProvider),c=Date.now(),r=a.address,l="I allow this site to access my data on The Convo Space using the account ".concat(r,". Timestamp:").concat(c),e.next=11,t.send("personal_sign",[S.a.utils.hexlify(S.a.utils.toUtf8Bytes(l)),r.toLowerCase()]);case 11:return u=e.sent,console.log("signature ",u),"/auth",{signature:u,signerAddress:r,timestamp:c,chain:"celo"},"/validateAuth",p={signerAddress:a.address,token:a.authToken},e.next=19,f.a.post("".concat(n).concat("/validateAuth","?apikey=").concat(s),p);case 19:return e.sent,"default_thread",h=window.location.search,m=new URLSearchParams(h),d=m.get("id"),"/comments",e.next=27,f.a.get("".concat(n).concat("/comments","?apikey=").concat(s,"&threadId=").concat(d));case 27:a.queryThreadsResponse=e.sent,a.setState({threads:a.queryThreadsResponse.data}),a.threads=a.queryThreadsResponse.data,a.setState({threads:a.threads}),j=a.state.threads.map((function(e,t){return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{class:"tread d-flex flex-row mt-3",children:[Object(y.jsx)("img",{src:"https://cdn.kulfyapp.com/kelvin/dp.png",alt:"",width:"48",height:"48",class:"me-2"}),Object(y.jsxs)("div",{class:"context",children:[Object(y.jsxs)("h6",{class:"username  color-text",children:["@",e.author]}),Object(y.jsx)("p",{class:"message",children:e.text})]})]})})})),console.log("listview ",j),i.a.render(j,document.getElementById("threads-list"));case 34:case"end":return e.stop()}}),e)}))),console.log(e),a.contract=e.contract,a.currentUser=e.currentUser,a.address=e.address,a.kit=e.kit,a.state={message:""},console.log("constructor before trigger"),console.log(a.address,a.contract,a.currentUser,a.nearConfig,a.wallet),a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("componentDidMount"),"default_thread",n=window.location.search,a=new URLSearchParams(n),t=a.get("id"),console.log("thread_id ",t),this.setState({thread_id:t}),console.log(this.address,this.contract,this.currentUser,this.nearConfig,this.wallet),!this.wallet||!this.contract){e.next=11;break}return e.next=11,this.triggerOAuth();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"shouldComponentUpdate",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("shouldComponentUpdate");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log("render start ".concat(JSON.stringify(this.state.threads))),Object(y.jsxs)("div",{className:"base-container page-wrapper",ref:this.props.containerRef,children:[Object(y.jsx)(w,{}),Object(y.jsxs)("ul",{class:"nav nav-pills nav-fill mt-2 mx-2 ",children:[Object(y.jsx)("li",{class:"nav-item",children:Object(y.jsx)("a",{class:"nav-link  text-white","aria-current":"page",href:"/inputs",children:"Impact Flow"})}),Object(y.jsx)("li",{class:"nav-item",children:Object(y.jsx)("a",{class:"nav-link active  color-bg ",href:"/convo?id=".concat(this.state.thread_id),children:"Impact Discussion"})})]}),Object(y.jsx)("div",{className:"base-container",ref:this.props.containerRef,children:Object(y.jsx)("div",{class:"container ",children:Object(y.jsxs)("div",{class:"discussions",children:[Object(y.jsx)("div",{className:"content",children:Object(y.jsx)(T.a,{id:"threads-list",children:"no threads yet..."})}),Object(y.jsxs)("div",{class:"send",children:[Object(y.jsx)("input",{type:"text",name:"message",onChange:function(t){return e.setState({message:t.target.value})},placeholder:"Message"}),Object(y.jsx)("a",{href:"# ",onClick:this.submitMessage.bind(this),class:"send-btn ",children:Object(y.jsx)("img",{src:"https://cdn.kulfyapp.com/kelvin/send-btn.svg ",alt:" ",width:"46 ",height:"47"})})]})]})})}),Object(y.jsx)("div",{class:"container "})]})}}]),n}(s.a.Component),_=V,M=[],A=[],N=0;M.forEach((function(e,t){A.push()}));var R=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],s=t[1];function c(){return(c=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.projectkelvin.io/uservotes/getProposalPage?pageNumber=1");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,M=n.data,console.log("items 123",M),i(M),s(n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return r.apply(this,arguments)}function r(){return(r=Object(l.a)(o.a.mark((function e(t){var n,a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n="",a=0;a<t.length;a++)n=n+"&proposals="+t[a].proposalId;return e.next=4,fetch("https://api.projectkelvin.io/uservotes/getProposalScore?"+n);case 4:return c=e.sent,e.next=7,c.json();case 7:for(i=(i=e.sent).data,a=0;a<i.length;a++)t[a].votes=i[a],t[a].tempvotes=Math.floor(100*Math.random()),t[a].timevotes=Math.floor(100*Math.random()),t[a].capitalvotes=Math.floor(100*Math.random());console.log("transaction_votes 123",i),s(i);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.projectkelvin.io/uservotes/getUserStamps?user=gkolluri.testnet");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,N=n.data,s(N);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t){return h.apply(this,arguments)}function h(){return(h=Object(l.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N-=1,console.log("add vote transaction before ",t),t.votes=t.votes+1,console.log("add vote transaction after",t),"time"==n?t.timevotes=t.timevotes+1:"temperature"==n?t.tempvotes=t.tempvotes+1:"capital"==n&&(t.capitalvotes=t.capitalvotes+1),s(t),e.next=8,fetch("https://api.projectkelvin.io/uservotes/updateVoteForProposal?stampType=stamp&proposer=".concat(t.proposer,"&proposerName=null&toIdSource=null&toProposal=").concat(t.proposalId,"&fromId=").concat(t.proposer,"&fromName=null&collection=").concat(n,"&negative=false"));case 8:e.sent;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){return j.apply(this,arguments)}function j(){return(j=Object(l.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N-=1,t.votes=t.votes-1,"time"==n?t.timevotes=t.timevotes-1:"temperature"==n?t.tempvotes=t.tempvotes-1:"capital"==n&&(t.capitalvotes=t.capitalvotes-1),s(t),e.next=6,fetch("https://api.projectkelvin.io/uservotes/updateVoteForProposal?stampType=stamp&proposer=".concat(t.proposer,"&proposerName=null&toIdSource=null&toProposal=").concat(t.proposalId,"&fromId=").concat(t.proposer,"&fromName=null&collection=").concat(n,"&negative=true"));case 6:return a=e.sent,e.next=9,a.json();case 9:e.sent;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){console.log("items ",n),function(){c.apply(this,arguments)}(),function(){p.apply(this,arguments)}()}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(w,{}),Object(y.jsx)("section",{class:"container mb-3",children:Object(y.jsx)("div",{class:"row",children:Object(y.jsx)("div",{class:"col",children:Object(y.jsxs)("nav",{class:"nav nav-pills nav-justified",children:[Object(y.jsx)("a",{class:"nav-link active","aria-current":"page",href:"#",children:"Proposals"}),Object(y.jsx)("a",{class:"nav-link",href:"#",children:"Existing Proposals"})]})})})}),Object(y.jsx)("section",{class:"container text-center ",children:Object(y.jsx)("div",{class:"row mb-3",children:Object(y.jsx)("div",{class:"col",children:Object(y.jsx)("h3",{class:"text-color",children:"Existing Proposals"})})})}),Object(y.jsx)("div",{class:"container page-wrapper text-center",children:Object(y.jsx)("div",{children:Object(y.jsx)("ul",{class:"p-0",children:Object(y.jsx)("div",{class:"row",children:M.map((function(e,t){return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)("div",{class:"col my-block m-2 px-4 flex-column align-items-start",children:[Object(y.jsx)("h6",{class:"mb-1 text-left",children:e.description}),Object(y.jsxs)("div",{class:"d-flex  my-2 w-100 justify-content-between",children:[Object(y.jsx)("div",{class:"d-flex align-items-center ",children:Object(y.jsx)("h6",{})}),Object(y.jsxs)("a",{href:"/inputs?proposal=".concat(e.proposalId),children:[" ",Object(y.jsx)("button",{class:"btn btn-primary btn-color compact-btn my-2",type:"button",children:" Analyse Impact"})]})]}),Object(y.jsxs)("div",{class:"d-flex justify-content-between w-100 my-2 align-items-center",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("h6",{children:e.votes}),Object(y.jsx)("span",{class:"mylabel",children:"Impact Score"})]}),Object(y.jsxs)("div",{class:"d-flex flex-row voting",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("h6",{children:e.tempvotes}),Object(y.jsxs)("div",{children:[Object(y.jsx)("a",{onClick:function(){return d(e,"temperature")},href:"#",children:Object(y.jsx)("img",{src:"https://cdn.kulfyapp.com/celo/tempUp.svg",class:"icon-shadow",alt:""})}),Object(y.jsx)("a",{onClick:function(){return m(e,"temperature")},href:"#",children:Object(y.jsx)("img",{src:"https://cdn.kulfyapp.com/celo/tempDown.svg",class:"icon-shadow",alt:""})})]}),Object(y.jsx)("span",{children:"Temperature"})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("h6",{children:e.timevotes}),Object(y.jsxs)("div",{children:[Object(y.jsx)("a",{onClick:function(){return d(e,"time")},href:"#",children:Object(y.jsx)("img",{src:"https://cdn.kulfyapp.com/celo/timeUp.svg",class:"icon-shadow",alt:""})}),Object(y.jsx)("a",{onClick:function(){return m(e,"time")},href:"#",children:Object(y.jsx)("img",{src:"https://cdn.kulfyapp.com/celo/timeDown.svg",class:"icon-shadow",alt:""})})]}),Object(y.jsx)("span",{children:"Time"})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)("h6",{children:e.capitalvotes}),Object(y.jsxs)("div",{children:[Object(y.jsx)("a",{onClick:function(){return d(e,"capital")},href:"#",children:Object(y.jsx)("img",{src:"https://cdn.kulfyapp.com/celo/capitalUp.svg",class:"icon-shadow",alt:""})}),Object(y.jsx)("a",{onClick:function(){return m(e,"capital")},href:"#",children:Object(y.jsx)("img",{src:"https://cdn.kulfyapp.com/celo/capitalDown.svg",class:"icon-shadow",alt:""})})]}),Object(y.jsx)("span",{children:"Capital"})]})]})]})]})})}))})})})})]})},U=n(29),I=n(273),F=function(e){Object(m.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).createProposalCall=Object(l.a)(o.a.mark((function e(){var t,a,c,i,r,l,u,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n(253),a=n(607),c=new t("https://alfajores-forno.celo-testnet.org"),i=a.newKitFromWeb3(c),console.log("test logs"),r=new i.web3.eth.Contract(I.abi,"0x4F9f9c56C4Ba59545c5e8Ced29AA6e8E588A0dB8"),e.next=8,r.methods.name().call();case 8:return l=e.sent,console.log('Current Contract Name: "'.concat(l,'"')),e.next=12,r.methods.createProposal(50,s.state.name,s.state.name).call();case 12:return u=e.sent,console.log("Address of minted token: ".concat(u)),p="https://api.projectkelvin.io/uservotes/addNewProposal?proposalId=".concat(u,"&proposer=").concat(s.address,"&description=").concat(s.state.desc,"&name=").concat(s.state.name,"&kpi=").concat(s.state.kpi),e.next=17,f.a.get(p);case 17:e.sent.data&&(window.location.href="/transactions");case 20:case"end":return e.stop()}}),e)}))),console.log(e),s.contract=e.contract,s.currentUser=e.currentUser,s.nearConfig=e.nearConfig,s.wallet=e.wallet,s.address=e.address,s.connect=e.connect,s.state={name:"",desc:"",kpi:""},console.log("constructor before trigger"),console.log(s.address,s.currentUser,s.nearConfig,s.wallet),s}return Object(h.a)(a,[{key:"handleTitleChange",value:function(e){this.state.name=e}},{key:"handleDescChange",value:function(e){this.state.desc=e}},{key:"handleKpiChange",value:function(e){this.state.kpi=e}},{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("componentDidMount"),console.log(this.contract,this.currentUser,this.nearConfig,this.wallet),!this.wallet||!this.contract){e.next=5;break}return e.next=5,this.triggerOAuth();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"shouldComponentUpdate",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("shouldComponentUpdate");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this;return console.log("render start ".concat(JSON.stringify(this.state.threads))),Object(y.jsxs)("div",{class:"bg-white",children:[Object(y.jsx)(w,{}),Object(y.jsx)("div",{class:"container page-wrapper text-center",children:Object(y.jsxs)("section",{class:"container text-center center-block",children:[Object(y.jsx)("div",{class:"row",children:Object(y.jsx)("div",{class:"col",children:Object(y.jsx)("h1",{class:"text-color",children:"Create Proposal"})})}),Object(y.jsx)("div",{class:"row",children:Object(y.jsxs)("div",{class:"col",children:[Object(y.jsx)("input",(e={name:"name",onChange:function(e){return t.setState({name:e.target.value})},type:"text"},Object(U.a)(e,"name","name"),Object(U.a)(e,"placeholder","Name"),e)),Object(y.jsxs)("div",{class:"form-floating",children:[Object(y.jsx)("textarea",{name:"desc",onChange:function(e){return t.setState({desc:e.target.value})},class:"form-control",placeholder:"Description",id:"floatingTextarea2"}),Object(y.jsx)("label",{for:"floatingTextarea2",children:"Description"})]}),Object(y.jsx)("input",{name:"kpi",onChange:function(e){return t.setState({kpi:e.target.value})},type:"text",placeholder:"KPI"})]})}),Object(y.jsxs)("div",{class:"d-grid gap-2 mt-4",children:[Object(y.jsx)("button",{class:"btn btn-primary btn-color",type:"button",children:" Analyse Impact"}),Object(y.jsx)("button",{onClick:this.createProposalCall,class:"btn btn-primary btn-color",type:"submit",children:" Submit"})]})]})})]})}}]),a}(s.a.Component),P=F,D=n(83),B=function(e){Object(m.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={selectedOption:null},a.handleChange1=function(e){a.setState({selectedOption:e})},a.handleV1Change=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({selectedOptionV1:t}),console.log("Option selected 2:",t),e.next=4,a.caluclateTemperature();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleV2Change=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({selectedOptionV2:t});case 2:return console.log("Option selected:",t),e.next=5,a.caluclateTemperature();case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleOperationChange=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({selectedOptionOperation:t}),console.log("Option selected:",t),e.next=4,a.caluclateTemperature();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleTimeV1Change=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({selectedTimeOptionV1:t}),console.log("Option selected 2:",t),e.next=4,a.caluclateTime();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleTimeV2Change=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({selectedTimeOptionV2:t});case 2:return console.log("Option selected:",t),e.next=5,a.caluclateTime();case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleTimeOperationChange=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({selectedTimeOptionOperation:t}),console.log("Option selected:",t),e.next=4,a.caluclateTime();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleCapitalV1Change=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({selectedCapitalOptionV1:t}),console.log("Option selected 2:",t),e.next=4,a.caluclateCapital();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleCapitalV2Change=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({selectedCapitalOptionV2:t});case 2:return console.log("Option selected:",t),e.next=5,a.caluclateCapital();case 5:e.sent;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleCapitalOperationChange=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({selectedCapitalOptionOperation:t}),console.log("Option selected:",t),e.next=4,a.caluclateCapital();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.caluclateTime=Object(l.a)(o.a.mark((function e(){var t,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.state.selectedTimeOptionV1&&a.state.selectedTimeOptionV2&&a.state.selectedTimeOptionOperation)){e.next=10;break}return"https://impact.projectkelvin.io","/calculations/update-score",t={user:"You",proposal_id:"Proposal",param1:a.state.selectedTimeOptionV1.value,operator:a.state.selectedTimeOptionOperation.value,param2:a.state.selectedTimeOptionV2.value,collection:"time"},n={"Access-Control-Allow-Origin":"*"},a.setState({timeResult:"Calculating..."}),e.next=8,f.a.post("".concat("https://impact.projectkelvin.io").concat("/calculations/update-score"),t,{headers:n});case 8:s=e.sent,a.setState({timeResult:s.data});case 10:case"end":return e.stop()}}),e)}))),a.caluclateCapital=Object(l.a)(o.a.mark((function e(){var t,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.state.selectedCapitalOptionV1&&a.state.selectedCapitalOptionV2&&a.state.selectedCapitalOptionOperation)){e.next=10;break}return"https://impact.projectkelvin.io","/calculations/update-score",t={user:"You",proposal_id:"Proposal",param1:a.state.selectedCapitalOptionV1.value,operator:a.state.selectedCapitalOptionOperation.value,param2:a.state.selectedCapitalOptionV2.value,collection:"capital"},n={"Access-Control-Allow-Origin":"*"},a.setState({capitalResult:"Calculating..."}),e.next=8,f.a.post("".concat("https://impact.projectkelvin.io").concat("/calculations/update-score"),t,{headers:n});case 8:s=e.sent,a.setState({capitalResult:s.data});case 10:case"end":return e.stop()}}),e)}))),a.caluclateTemperature=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.state.selectedOptionV1&&a.state.selectedOptionV2&&a.state.selectedOptionOperation)){e.next=9;break}return"https://impact.projectkelvin.io","/calculations/update-score",t={user:"You",proposal_id:"Proposal",param1:a.state.selectedOptionV1.value,operator:a.state.selectedOptionOperation.value,param2:a.state.selectedOptionV2.value,collection:"temperature"},a.setState({temeratureResult:"Calculating..."}),e.next=7,f.a.post("".concat("https://impact.projectkelvin.io").concat("/calculations/update-score"),t);case 7:n=e.sent,a.setState({temeratureResult:n.data});case 9:case"end":return e.stop()}}),e)}))),console.log(e),a.contract=e.contract,a.currentUser=e.currentUser,a.nearConfig=e.nearConfig,a.wallet=e.wallet,a.address=e.address,a.connect=e.connect,a.state={},a.state={calcValues:[{name:"",variable1:"",operation:"",variable2:""}]},a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),a}return Object(h.a)(n,[{key:"handleChange",value:function(e,t){var n=this.state.calcValues;n[e][t.target.name]=t.target.value,this.setState({calcValues:n})}},{key:"addFormFields",value:function(){this.setState({calcValues:[].concat(Object(O.a)(this.state.calcValues),[{name:"",variable1:"",operation:"",variable2:""}])})}},{key:"removeFormFields",value:function(e){var t=this.state.calcValues;t.splice(e,1),this.setState({calcValues:t})}},{key:"handleSubmit",value:function(e){for(var t=JSON.parse(localStorage.getItem("impactflow")),n=0;n<this.state.calcValues.length;n++){var a={};a.name=this.state.calcValues[n].name,a.values=this.state.calcValues[n].name,t[t.length+n]=a}localStorage.setItem("impactflow",JSON.stringify(t)),window.location.href="/output"}},{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.wallet||!this.contract){e.next=3;break}return e.next=3,this.triggerOAuth();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleTimeChange",value:function(e){this.state.time=e}},{key:"handleTemperatureChange",value:function(e){this.state.temperature=e}},{key:"handleCapitalChange",value:function(e){this.state.capital=e}},{key:"shouldComponentUpdate",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("shouldComponentUpdate");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this.state.selectedOptionV1,t=this.state.selectedOptionV2,n=this.state.selectedOptionOperation,a=this.state.selectedTimeOptionV1,s=this.state.selectedTimeOptionV2,c=this.state.selectedTimeOptionOperation,i=this.state.selectedCapitalOptionV1,r=this.state.selectedCapitalOptionV2,o=this.state.selectedCapitalOptionOperation,l=JSON.parse(localStorage.getItem("impactflow")),u=[],p=[{label:"+",value:"+"},{label:"-",value:"-"},{label:"*",value:"*"},{label:"%",value:"/"}],d=0;d<l.length;d++){var h={};h.value=l[d].values,h.label=l[d].name,u.push(h)}return Object(y.jsxs)("div",{class:"bg-white",children:[Object(y.jsx)(w,{}),Object(y.jsx)("section",{class:"container mb-3",children:Object(y.jsx)("div",{class:"row",children:Object(y.jsx)("div",{class:"col",children:Object(y.jsxs)("nav",{class:"nav nav-pills nav-justified",children:[Object(y.jsx)("a",{class:"nav-link active","aria-current":"page",href:"#",children:"Impact Flow"}),Object(y.jsx)("a",{class:"nav-link",href:"/convo",children:"Impact Discussion"})]})})})}),Object(y.jsxs)("section",{class:"container text-center ",children:[Object(y.jsx)("div",{class:"row mb-3",children:Object(y.jsx)("div",{class:"col",children:Object(y.jsx)("h3",{class:"text-color",children:"Output - Step 3"})})}),Object(y.jsx)("div",{class:"row",children:Object(y.jsxs)("div",{class:"col my-block m-2 px-4 flex-column align-items-start",children:[Object(y.jsx)("h6",{class:"my-3 text-color",children:"Temperature"}),Object(y.jsxs)("div",{class:"d-flex justify-content-between w-100 mb-2 myselect align-items-center  flex-row",children:[Object(y.jsx)("h6",{children:"Variable 1"}),Object(y.jsxs)("p",{children:[" ",Object(y.jsx)(D.a,{name:"variable1",value:e,onChange:this.handleV1Change,options:u})]})]}),Object(y.jsxs)("div",{class:"d-flex justify-content-between w-100 mb-2 myselect align-items-center  flex-row",children:[Object(y.jsx)("h6",{children:"Operation"}),Object(y.jsxs)("p",{children:[" ",Object(y.jsx)(D.a,{name:"operation",value:n,onChange:this.handleOperationChange,options:p})]})]}),Object(y.jsxs)("div",{class:"d-flex justify-content-between w-100 mb-2 myselect align-items-center  flex-row border-bottom pb-2",children:[Object(y.jsx)("h6",{children:"Variable 2"}),Object(y.jsxs)("p",{children:[" ",Object(y.jsx)(D.a,{name:"variable2",value:t,onChange:this.handleV2Change,options:u})]})]}),Object(y.jsxs)("div",{class:"d-flex justify-content-between w-100 mb-2 align-items-center  flex-row",children:[Object(y.jsx)("h6",{children:"Result"}),Object(y.jsxs)("p",{children:[" ",this.state.temeratureResult]})]})]})}),Object(y.jsx)("div",{class:"row",children:Object(y.jsxs)("div",{class:"col my-block m-2 px-4 flex-column align-items-start",children:[Object(y.jsx)("h6",{class:"my-3 text-color",children:"Time"}),Object(y.jsxs)("div",{class:"d-flex justify-content-between w-100 mb-2 myselect align-items-center  flex-row",children:[Object(y.jsx)("h6",{children:"Variable 1"}),Object(y.jsxs)("p",{children:[" ",Object(y.jsx)(D.a,{name:"timevariable1",value:a,onChange:this.handleTimeV1Change,options:u})]})]}),Object(y.jsxs)("div",{class:"d-flex justify-content-between w-100 mb-2 myselect align-items-center  flex-row",children:[Object(y.jsx)("h6",{children:"Operation"}),Object(y.jsxs)("p",{children:[" ",Object(y.jsx)(D.a,{name:"timeoperation",value:c,onChange:this.handleTimeOperationChange,options:p})]})]}),Object(y.jsxs)("div",{class:"d-flex justify-content-between w-100 mb-2 myselect align-items-center  flex-row border-bottom pb-2",children:[Object(y.jsx)("h6",{children:"Variable 2"}),Object(y.jsxs)("p",{children:[" ",Object(y.jsx)(D.a,{name:"timevariable2",value:s,onChange:this.handleTimeV2Change,options:u})]})]}),Object(y.jsxs)("div",{class:"d-flex justify-content-between w-100 mb-2 align-items-center  flex-row",children:[Object(y.jsx)("h6",{children:"Result"}),Object(y.jsxs)("p",{children:[this.state.timeResult," "]})]})]})}),Object(y.jsx)("div",{class:"row",children:Object(y.jsxs)("div",{class:"col my-block m-2 px-4 flex-column align-items-start",children:[Object(y.jsx)("h6",{class:"my-3 text-color",children:"Capital"}),Object(y.jsxs)("div",{class:"d-flex justify-content-between w-100 mb-2 myselect align-items-center  flex-row",children:[Object(y.jsx)("h6",{children:"Variable 1"}),Object(y.jsxs)("p",{children:[" ",Object(y.jsx)(D.a,{name:"capitalvariable1",value:i,onChange:this.handleCapitalV1Change,options:u})]})]}),Object(y.jsxs)("div",{class:"d-flex justify-content-between w-100 mb-2 myselect align-items-center  flex-row",children:[Object(y.jsx)("h6",{children:"Operation"}),Object(y.jsxs)("p",{children:[" ",Object(y.jsx)(D.a,{name:"capitaloperation",value:o,onChange:this.handleCapitalOperationChange,options:p})]})]}),Object(y.jsxs)("div",{class:"d-flex justify-content-between w-100 mb-2 myselect align-items-center  flex-row border-bottom pb-2",children:[Object(y.jsx)("h6",{children:"Variable 2"}),Object(y.jsxs)("p",{children:[" ",Object(y.jsx)(D.a,{name:"capitalvariable2",value:r,onChange:this.handleCapitalV2Change,options:u})]})]}),Object(y.jsxs)("div",{class:"d-flex justify-content-between w-100 mb-2 align-items-center  flex-row",children:[Object(y.jsx)("h6",{children:"Result"}),Object(y.jsxs)("p",{children:[this.state.capitalResult," "]})]})]})}),Object(y.jsx)("div",{class:"d-grid gap-2 mt-4",children:Object(y.jsx)("a",{href:"/",children:Object(y.jsxs)("button",{class:"btn btn-primary btn-color",type:"button",children:[" ","Done"]})})})]})]})}}]),n}(s.a.Component),J=B,E=function(e){Object(m.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={selectedOption:null},a.handleChange1=function(e){a.setState({selectedOption:e}),console.log("Option selected 1:",e)},a.handleV1Change=function(e,t){a.setState({selectedOptionV1:e}),console.log("Option selected 2:",e)},a.handleV2Change=function(e){a.setState({selectedOptionV2:e}),console.log("Option selected:",e)},a.handleOperationChange=function(e){a.setState({selectedOptionOperation:e}),console.log("Option selected:",e)},console.log(e),a.contract=e.contract,a.currentUser=e.currentUser,a.nearConfig=e.nearConfig,a.wallet=e.wallet,a.address=e.address,a.connect=e.connect,a.state={},a.state={calcValues:[{name:"",variable1:"",operation:"",variable2:""}]},a.handleSubmit=a.handleSubmit.bind(Object(g.a)(a)),console.log("constructor before trigger"),console.log(a.contract,a.currentUser,a.nearConfig,a.wallet),a}return Object(h.a)(n,[{key:"handleChange",value:function(e,t){var n=this.state.calcValues;console.log("form values ",n),n[e][t.target.name]=t.target.value,this.setState({calcValues:n})}},{key:"addFormFields",value:function(){this.setState({calcValues:[].concat(Object(O.a)(this.state.calcValues),[{name:"",variable1:"",operation:"",variable2:""}])})}},{key:"removeFormFields",value:function(e){var t=this.state.calcValues;t.splice(e,1),this.setState({calcValues:t})}},{key:"handleSubmit",value:function(e){var t=JSON.parse(localStorage.getItem("impactflow"));console.log("test test ",this.state.calcValues,JSON.stringify(t));for(var n=0;n<this.state.calcValues.length;n++){var a={};a.name=this.state.calcValues[n].name,a.values=this.state.calcValues[n].name,a&&(t[t.length]=a),console.log("naked ",n,t)}localStorage.setItem("impactflow",JSON.stringify(t)),window.location.href="/output"}},{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("componentDidMount"),console.log(this.contract,this.currentUser,this.nearConfig,this.wallet),!this.wallet||!this.contract){e.next=5;break}return e.next=5,this.triggerOAuth();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleTimeChange",value:function(e){this.state.time=e}},{key:"handleTemperatureChange",value:function(e){this.state.temperature=e}},{key:"handleCapitalChange",value:function(e){this.state.capital=e}},{key:"shouldComponentUpdate",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("shouldComponentUpdate");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=this.state.selectedOptionV1,n=this.state.selectedOptionV2,a=this.state.selectedOptionOperation,s=JSON.parse(localStorage.getItem("impactflow")),c=[],i=[{label:"+",value:"+"},{label:"-",value:"-"},{label:"*",value:"*"},{label:"%",value:"/"}],r=0;r<s.length;r++){console.log("variables ",s),(o={}).value=s[r].values,o.label=s[r].name,c.push(o)}console.log("tst ",this.state.calcValues);for(r=0;r<this.state.calcValues.length;r++){var o;console.log("variables ",s),(o={}).value=this.state.calcValues[r].name,o.label=this.state.calcValues[r].name,c.push(o)}return console.log("render start ".concat(JSON.stringify(this.state.threads))),Object(y.jsxs)("div",{class:"bg-white",children:[Object(y.jsx)(w,{}),Object(y.jsx)("section",{class:"container mb-3",children:Object(y.jsx)("div",{class:"row",children:Object(y.jsx)("div",{class:"col",children:Object(y.jsxs)("nav",{class:"nav nav-pills nav-justified",children:[Object(y.jsx)("a",{class:"nav-link active","aria-current":"page",href:"#",children:"Impact Flow"}),Object(y.jsx)("a",{class:"nav-link",href:"/convo",children:"Impact Discussion"})]})})})}),Object(y.jsxs)("section",{class:"container text-center ",children:[Object(y.jsx)("div",{class:"row mb-3",children:Object(y.jsx)("div",{class:"col",children:Object(y.jsx)("h3",{class:"text-color",children:"Calculations - Step 2"})})}),Object(y.jsx)("form",{onSubmit:this.handleSubmit,children:this.state.calcValues.map((function(s,r){return Object(y.jsx)("div",{className:"form-inline",children:Object(y.jsx)("div",{class:"row",children:Object(y.jsxs)("div",{class:"col my-block m-2 px-4 flex-column align-items-start",children:[Object(y.jsxs)("div",{class:"d-flex align-items-center flex-row justify-content-between w-100 mb-2",children:[Object(y.jsx)("h6",{children:"Name"}),Object(y.jsx)("p",{children:Object(y.jsx)("input",{name:"name",onChange:function(t){return e.handleChange(r,t)},type:"text",placeholder:"Variable Name"})})]}),Object(y.jsxs)("div",{class:"d-flex justify-content-between w-100 mb-2 myselect align-items-center  flex-row",children:[Object(y.jsx)("h6",{children:"Variable 1"}),Object(y.jsxs)("p",{children:[" ",Object(y.jsx)(D.a,{name:"variable1",value:t,onChange:e.handleV1Change,options:c})]})]}),Object(y.jsxs)("div",{class:"d-flex justify-content-between w-100 mb-2 myselect align-items-center  flex-row",children:[Object(y.jsx)("h6",{children:"Operation"}),Object(y.jsxs)("p",{children:[" ",Object(y.jsx)(D.a,{name:"operation",value:a,onChange:e.handleOperationChange,options:i})]})]}),Object(y.jsxs)("div",{class:"d-flex justify-content-between w-100 mb-2 myselect align-items-center  flex-row",children:[Object(y.jsx)("h6",{children:"Variable 2"}),Object(y.jsxs)("p",{children:[" ",Object(y.jsx)(D.a,{name:"variable2",value:n,onChange:e.handleV2Change,options:c})]})]}),Object(y.jsxs)("button",{class:"btn btn-primary w-100 btn-color",onClick:function(){return e.removeFormFields(r)},type:"button",children:[" ","Remove"]})]})})},r)}))}),Object(y.jsxs)("div",{class:"d-grid gap-2 mt-4",children:[Object(y.jsx)("button",{onClick:function(){return e.addFormFields()},type:"button",class:"btn btn-primary btn-color","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Add"}),Object(y.jsxs)("button",{class:"btn btn-primary btn-color",onClick:function(){return e.handleSubmit()},type:"submit",children:[" ","Next"]})]})]})]})}}]),n}(s.a.Component),W=E,K=n(136),q=n(57),L=n(253),Y=n(607),G=new L("https://alfajores-forno.celo-testnet.org");Y.newKitFromWeb3(G);function z(){var e=Object(a.useState)("Project Kelvin : A Currency That Measures Impact"),t=Object(u.a)(e,2),n=t[0];t[1];Object(a.useEffect)((function(){document.title=n}),[n]);var s=Object(p.useContractKit)(),c=s.address,i=s.connect,r=s.kit;s.getConnectedKit;function d(){return(d=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new r.web3.eth.Contract(I.abi,"0x4F9f9c56C4Ba59545c5e8Ced29AA6e8E588A0dB8");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){d.apply(this,arguments)}(),Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(K.a,{children:Object(y.jsxs)("main",{children:[Object(y.jsxs)(q.d,{children:[Object(y.jsx)(q.b,{path:"/signin",children:Object(y.jsx)(x,{address:c,connect:i})}),Object(y.jsx)(q.b,{path:"/transactions",children:Object(y.jsx)(R,{})}),Object(y.jsx)(q.b,{path:"/create",children:Object(y.jsx)(P,{address:c})}),Object(y.jsx)(q.b,{path:"/inputs",children:Object(y.jsx)(C,{address:c})}),Object(y.jsx)(q.b,{path:"/convo",children:Object(y.jsx)(_,{address:c,kit:r})}),Object(y.jsx)(q.b,{path:"/calculate",children:Object(y.jsx)(W,{address:c,kit:r})}),Object(y.jsx)(q.b,{path:"/output",children:Object(y.jsx)(J,{address:c,kit:r})})]}),Object(y.jsx)(q.b,{exact:!0,path:"/",children:c?Object(y.jsx)(q.a,{to:"/transactions"}):Object(y.jsx)(q.a,{to:"/signin"})}),Object(y.jsx)(q.b,{exact:!0,path:"/signin",children:c?Object(y.jsx)(q.a,{to:"/transactions"}):Object(y.jsx)(q.a,{to:"/signin"})})]})}),c?Object(y.jsxs)("label",{children:["Welcome ",c]}):Object(y.jsx)(y.Fragment,{})]})}var H=function(){return Object(y.jsx)(p.ContractKitProvider,{dapp:{name:"Project Kelvin",description:"A Currency That Measures Impact",url:"https://projectkelvin.io/"},children:Object(y.jsx)(z,{})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1386)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),c(e),i(e)}))};i.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(H,{})}),document.getElementById("root")),Q()},273:function(e){e.exports=JSON.parse('{"contractName":"Kelvin","abi":[{"type":"constructor","stateMutability":"nonpayable","inputs":[{"type":"uint256","name":"_reserveRatio","internalType":"uint256"},{"type":"address","name":"_reserveTokenAddress","internalType":"address"},{"type":"string","name":"_tokenName","internalType":"string"},{"type":"string","name":"_tokenSymbol","internalType":"string"}]},{"type":"event","name":"Approval","inputs":[{"type":"address","name":"owner","internalType":"address","indexed":true},{"type":"address","name":"spender","internalType":"address","indexed":true},{"type":"uint256","name":"value","internalType":"uint256","indexed":false}],"anonymous":false},{"type":"event","name":"ContinuousBurn","inputs":[{"type":"address","name":"_address","internalType":"address","indexed":false},{"type":"uint256","name":"continuousTokenAmount","internalType":"uint256","indexed":false},{"type":"uint256","name":"reserveTokenAmount","internalType":"uint256","indexed":false}],"anonymous":false},{"type":"event","name":"ContinuousMint","inputs":[{"type":"address","name":"_address","internalType":"address","indexed":false},{"type":"uint256","name":"reserveTokenAmount","internalType":"uint256","indexed":false},{"type":"uint256","name":"continuousTokenAmount","internalType":"uint256","indexed":false}],"anonymous":false},{"type":"event","name":"ProposalTokenCreated","inputs":[{"type":"address","name":"tokenAddress","internalType":"address","indexed":false}],"anonymous":false},{"type":"event","name":"Transfer","inputs":[{"type":"address","name":"from","internalType":"address","indexed":true},{"type":"address","name":"to","internalType":"address","indexed":true},{"type":"uint256","name":"value","internalType":"uint256","indexed":false}],"anonymous":false},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"address"}],"name":"Proposals","inputs":[{"type":"address","name":"","internalType":"address"}]},{"type":"function","stateMutability":"pure","outputs":[{"type":"uint32","name":"","internalType":"uint32"},{"type":"uint32","name":"","internalType":"uint32"}],"name":"accurateWeights","inputs":[{"type":"uint256","name":"_a","internalType":"uint256"},{"type":"uint256","name":"_b","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"allowance","inputs":[{"type":"address","name":"owner","internalType":"address"},{"type":"address","name":"spender","internalType":"address"}]},{"type":"function","stateMutability":"nonpayable","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"approve","inputs":[{"type":"address","name":"spender","internalType":"address"},{"type":"uint256","name":"amount","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"balanceOf","inputs":[{"type":"address","name":"account","internalType":"address"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint32","name":"","internalType":"uint32"},{"type":"uint32","name":"","internalType":"uint32"}],"name":"balancedWeights","inputs":[{"type":"uint256","name":"_primaryReserveStakedBalance","internalType":"uint256"},{"type":"uint256","name":"_primaryReserveBalance","internalType":"uint256"},{"type":"uint256","name":"_secondaryReserveBalance","internalType":"uint256"},{"type":"uint256","name":"_reserveRateNumerator","internalType":"uint256"},{"type":"uint256","name":"_reserveRateDenominator","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint32","name":"","internalType":"uint32"},{"type":"uint32","name":"","internalType":"uint32"}],"name":"balancedWeightsByStake","inputs":[{"type":"uint256","name":"_hi","internalType":"uint256"},{"type":"uint256","name":"_lo","internalType":"uint256"},{"type":"uint256","name":"_tq","internalType":"uint256"},{"type":"uint256","name":"_rp","internalType":"uint256"},{"type":"bool","name":"_lowerStake","internalType":"bool"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"burn","inputs":[{"type":"uint256","name":"_amount","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"burnAmount","internalType":"uint256"}],"name":"calculateContinuousBurnReturn","inputs":[{"type":"uint256","name":"_amount","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"mintAmount","internalType":"uint256"}],"name":"calculateContinuousMintReturn","inputs":[{"type":"uint256","name":"_amount","internalType":"uint256"}]},{"type":"function","stateMutability":"nonpayable","outputs":[{"type":"address","name":"","internalType":"address"}],"name":"createProposal","inputs":[{"type":"uint256","name":"_reserveRatio","internalType":"uint256"},{"type":"string","name":"_tokenName","internalType":"string"},{"type":"string","name":"_tokenSymbol","internalType":"string"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"crossReserveTargetAmount","inputs":[{"type":"uint256","name":"_sourceReserveBalance","internalType":"uint256"},{"type":"uint32","name":"_sourceReserveWeight","internalType":"uint32"},{"type":"uint256","name":"_targetReserveBalance","internalType":"uint256"},{"type":"uint32","name":"_targetReserveWeight","internalType":"uint32"},{"type":"uint256","name":"_amount","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint8","name":"","internalType":"uint8"}],"name":"decimals","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"decreaseAllowance","inputs":[{"type":"address","name":"spender","internalType":"address"},{"type":"uint256","name":"subtractedValue","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"fundCost","inputs":[{"type":"uint256","name":"_supply","internalType":"uint256"},{"type":"uint256","name":"_reserveBalance","internalType":"uint256"},{"type":"uint32","name":"_reserveRatio","internalType":"uint32"},{"type":"uint256","name":"_amount","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"fundSupplyAmount","inputs":[{"type":"uint256","name":"_supply","internalType":"uint256"},{"type":"uint256","name":"_reserveBalance","internalType":"uint256"},{"type":"uint32","name":"_reserveRatio","internalType":"uint32"},{"type":"uint256","name":"_amount","internalType":"uint256"}]},{"type":"function","stateMutability":"nonpayable","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"increaseAllowance","inputs":[{"type":"address","name":"spender","internalType":"address"},{"type":"uint256","name":"addedValue","internalType":"uint256"}]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"init","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"initLambertArray","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[],"name":"initMaxExpArray","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"liquidateReserveAmount","inputs":[{"type":"uint256","name":"_supply","internalType":"uint256"},{"type":"uint256","name":"_reserveBalance","internalType":"uint256"},{"type":"uint32","name":"_reserveRatio","internalType":"uint32"},{"type":"uint256","name":"_amount","internalType":"uint256"}]},{"type":"function","stateMutability":"nonpayable","outputs":[{"type":"uint256","name":"_amountMinted","internalType":"uint256"}],"name":"mint","inputs":[{"type":"uint256","name":"_amount","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"string","name":"","internalType":"string"}],"name":"name","inputs":[]},{"type":"function","stateMutability":"pure","outputs":[{"type":"uint32","name":"","internalType":"uint32"},{"type":"uint32","name":"","internalType":"uint32"}],"name":"normalizedWeights","inputs":[{"type":"uint256","name":"_a","internalType":"uint256"},{"type":"uint256","name":"_b","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"},{"type":"uint8","name":"","internalType":"uint8"}],"name":"power","inputs":[{"type":"uint256","name":"_baseN","internalType":"uint256"},{"type":"uint256","name":"_baseD","internalType":"uint256"},{"type":"uint32","name":"_expN","internalType":"uint32"},{"type":"uint32","name":"_expD","internalType":"uint32"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"purchaseTargetAmount","inputs":[{"type":"uint256","name":"_supply","internalType":"uint256"},{"type":"uint256","name":"_reserveBalance","internalType":"uint256"},{"type":"uint32","name":"_reserveWeight","internalType":"uint32"},{"type":"uint256","name":"_amount","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"reserveBalance","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"reserveRatio","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"address","name":"","internalType":"address"}],"name":"reserveTokenAddress","inputs":[]},{"type":"function","stateMutability":"pure","outputs":[{"type":"uint256","name":"","internalType":"uint256"},{"type":"uint256","name":"","internalType":"uint256"}],"name":"safeFactors","inputs":[{"type":"uint256","name":"_a","internalType":"uint256"},{"type":"uint256","name":"_b","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"saleTargetAmount","inputs":[{"type":"uint256","name":"_supply","internalType":"uint256"},{"type":"uint256","name":"_reserveBalance","internalType":"uint256"},{"type":"uint32","name":"_reserveWeight","internalType":"uint32"},{"type":"uint256","name":"_amount","internalType":"uint256"}]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"scale","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"string","name":"","internalType":"string"}],"name":"symbol","inputs":[]},{"type":"function","stateMutability":"view","outputs":[{"type":"uint256","name":"","internalType":"uint256"}],"name":"totalSupply","inputs":[]},{"type":"function","stateMutability":"nonpayable","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"transfer","inputs":[{"type":"address","name":"recipient","internalType":"address"},{"type":"uint256","name":"amount","internalType":"uint256"}]},{"type":"function","stateMutability":"nonpayable","outputs":[{"type":"bool","name":"","internalType":"bool"}],"name":"transferFrom","inputs":[{"type":"address","name":"sender","internalType":"address"},{"type":"address","name":"recipient","internalType":"address"},{"type":"uint256","name":"amount","internalType":"uint256"}]}]}')},682:function(e,t,n){},683:function(e,t,n){},685:function(e,t,n){},686:function(e,t,n){},702:function(e,t){},704:function(e,t){},716:function(e,t){},717:function(e,t){},741:function(e,t){},743:function(e,t){},745:function(e,t){},755:function(e,t){},757:function(e,t){},805:function(e,t){},807:function(e,t){},814:function(e,t){},815:function(e,t){}},[[1366,1,2]]]);
//# sourceMappingURL=main.1c3276fa.chunk.js.map